@startuml Slide4_RecommendationAlgorithm
!theme plain
skinparam activity {
    BackgroundColor #E8F4F8
    BorderColor #2E5C8A
}

title Алгоритм вычисления рекомендации

start

partition "Шаг 1: Анализ трендов" {
  :Загрузка данных за 2 месяца;
  :Расчет статистики:\nсреднее, мин, макс;
  :Сравнение периодов;
  note right: Фактический максимум:\n0.42 МПа
}

partition "Шаг 2: Проверка уставок" {
  :Получение текущей уставки;
  note right: Текущая уставка:\n0.40 МПа
  :Сравнение с фактическим;
  if (Уставка < Фактический?) then (да)
    :Несоответствие выявлено;
  else (нет)
    stop
  endif
}

partition "Шаг 3: Расчет" {
  :Формула:\n0.42 × 1.10 = 0.46 МПа;
  :Учет запаса безопасности (10%);
  :Учет прогноза роста;
  :Проверка нормативов;
}

partition "Шаг 4: Определение" {
  :Приоритет: Высокий;
  :Адресат: Руководство ЦДНГ;
  :Формирование рекомендации;
}

stop

@enduml
